<template name="ApplicationLayout">
  <head>
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
  <header>
    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="/">Quick Chat</a>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/">Home</a></li>
            <li><a>{{> loginButtons }}</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>
  <main>
    <div class="row">
        <div class="col-xs-4 sidenav">
          <h1 class="white-text">Chat Rooms</h1>
          <div class="panel panel-default key">
            <div class="panel-body">
              <h5>Commands</h5>
              <p>You can use " /tell 'user' 'message' " to send a private message.</p>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-body">
              <h5>New Chat Room</h5>
              <form class="create-room">
                <div class="form-group">
                  <label for="name">Name</label>
                  <input id="name" type="text" class="validate">
                </div>
                <button class="btn btn-default" type="submit" name="action">
                  Create
                </button>
              </form>
            </div>
          </div>
          {{#each chatRooms}} {{>chatroom}} {{/each}}
        </div>
        <div class="col-xs-8 chatroom-wrapper">
          {{> yield}}
        </div>
      </div>
    </main>
  </body>
</template>

<template name="chatroom">
    <div class="panel panel-info">
        <div class="panel-heading"><h5 class="panel-title">{{name}}</h5></div>
        <div class="panel-body">
          Users: {{users}}<br>
          {{formatTime created}}
          <div class="btn btn-default join-room pull-right">Join</div>
        </div>
    </div>
</template>
